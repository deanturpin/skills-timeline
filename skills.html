<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8"/>

<!-- Skills -->
<script type="text/javascript">

	"use strict"

	// Current year
	const now = 2019;

	// Skills and date range
	const skills = [

		["C++",			1996, now],
		["Embedded",      	1998, now],
		["Security clearance",	1998, now],
		["Vim",			1998, now],
		["VxWorks",		1998, 2009],
		["Unix",		1998, 2009],
		["Networking",  	2003, now],
		["Regex",		2007, now],
		["Doxygen",		2009, 2010],
		["Mediawiki",		2009, now],
		["Bash",		2009, now],
		["Linux	",		2009, now],
		["Subversion",  	2012, now],
		["VMware",		2012, now],
		["STL",			2013, now],
		["C++11/14",    	2015, 2017],
		["Agile",		2015, now],
		["Iwyu",		2015, 2017],
		["Git",			2015, now],
		["JavaScript",  	2016, 2017],
		["Python3",		2018, 2018],
		["Blockchain",		2018, 2018],
		["Travis CI",		2018, 2019],
		["Confluence",		2018, now],
		["C++17",		2018, now],
		["C++2a",		2019, now],
		["Doxygen",		2019, now],
		["AWS",		        2019, now],
		["Google Cloud",	2019, now],
		["R",           	2019, now],
	];
</script>

<!-- Timeline generator -->
<script type="text/javascript">

	"use strict";

	// Don't do anything until page has loaded completely
	onload = function() {

		// Create a canvas element
		const canvas = document.createElement("canvas");
		const body = document.getElementsByTagName("body")[0];

		// Add it to the DOM
		body.appendChild(canvas);

		// Define canvas (view port)
		const context = canvas.getContext("2d");

		// Set canvas size
		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight;

		// Initialise year range
		let year_min = 3000;
		let year_max = 0;

		// Parse to find min and max
		for (let i = 0; i < skills.length; ++i) {

			// Get min and max years
			if (skills[i][1] < year_min)
				year_min = skills[i][1]

			if (skills[i][2] > year_max)
				year_max = skills[i][2]
		}

		const scale_x = .80 * canvas.width / (year_max - year_min);
		const scale_y = .95 * canvas.height / skills.length;
		const padding = 10;

		// Add year scale
		for (let s = 0; s <= year_max - year_min + 1; ++s) {

			// Extract the lower two digits of the year
			const yr = "" + (year_min + s);
			context.fillText("\'" + yr.substring(2), s * scale_x,
                            padding);
		}

		// Parse to print bars
		for (let i = 0; i < skills.length; ++i) {

			const skill = skills[i][0];
			const start = skills[i][1];
			const end = skills[i][2];
			const duration = 1 + skills[i][2] - skills[i][1];

			// Calculate end points
			const x1 = scale_x * (start - year_min);
			const x2 = x1 + duration * scale_x;
			const y = 2 * padding + i * scale_y;

			// Render stroke
			context.beginPath();
			context.moveTo(x1, y);
			context.lineTo(x2, y);
			context.lineWidth = 3;
			context.stroke();

			// Add skill
			context.fillText(skill,
				padding + (1 + year_max - year_min) * scale_x, y
                                + padding/2);
		}
	}
</script>
